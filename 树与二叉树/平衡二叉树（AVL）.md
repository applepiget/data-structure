## 平衡二叉树（AVL）

**树上任一结点的左子树和右子树的高度之差不超过1**，使查找效率达到O(log n)

结点的平衡因子 = 结点的左子树高度 - 结点的右子树高度

平衡二叉树结点的平衡因子的值只可能是 -1 、0 、1

```c++
typedef struct AVLNode{
	int key;
	int balance;				//存放平衡因子
	struct AVLNode *lchild , *rchild;
}AVLNode , *AVLTree;
```



像平衡二叉树中插入一个新的结点，查找路径上的所有结点都可能会受到影响

![平衡二叉树](D:\笔记\数据结构\思维导图\平衡二叉树.png)

这时候就需要对平衡二叉树进行调整

![调整平衡二叉树](D:\笔记\数据结构\思维导图\调整平衡二叉树.png)

**从插入点往回找到第一个不平衡结点，调整以该结点为根的子树**



#### 调整最小不平衡子树

![调整方式](D:\笔记\数据结构\思维导图\调整方式.png)

![调整](D:\笔记\数据结构\思维导图\调整.png)



**LL**

![调整LL](D:\笔记\数据结构\思维导图\调整LL.png)

```c++
//F是A的父节点 , A可能是F的左孩子或右孩子
A -> lchild = B -> rchild;
B -> rchild = A;
F -> lchild/rchild = B;
```





**RR**

![调整RR](D:\笔记\数据结构\思维导图\调整RR.png)

```c++
//F是A的父节点 , A可能是F的左孩子或右孩子
A -> rchild = B -> lchild;
B -> lchild = A;
F -> lchild/rchild = B;
```





**LR**

先将B的右子树展开

![调整LR](D:\笔记\数据结构\思维导图\调整LR.png)





**RR**

![调整RL（1）](D:\笔记\数据结构\思维导图\调整RL（1）.png)

![调整RL（2）](D:\笔记\数据结构\思维导图\调整RL（2）.png)





#### 查找效率分析

 ![AVL查找效率](D:\笔记\数据结构\思维导图\AVL查找效率.png)